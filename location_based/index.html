<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>GeoAR.js demo</title> 
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <!--<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>  -->
    <script src='build/aframe-ar-nft.js'></script>  
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>

    <script>
        AFRAME.registerComponent("text-show", 
        {
            init: function () 
            {
                let toggle = false
                this.el.addEventListener("click", (e) => 
                {
                    let entity = document.querySelectorAll(".clickable")
                    entity.forEach(function (el) 
                    {
                        el.setAttribute('visible', toggle)
                    })
                    toggle = !toggle
                })
            }
        })
    </script>
  
</head>

<body style='margin: 0; overflow: hidden;'>
    <a-scene
        vr-mode-ui="enabled: false"
		embedded
		arjs='sourceType: webcam; debugUIEnabled: false;'>  

        <a-assets>
            <a-asset-item id="ramen" src="./assets/ramen.gltf"></a-asset-item>
        </a-assets>

        <a-entity 
            gltf-model="#ramen" class="click"  position="0 0 0" scale = "0.05 0.05 0.05"  
            gps-entity-place = "latitude: -16.554369; longitude: -68.673940;" animation="property: rotation; dur: 8000; to: 0 360 0; loop: true;"    
            text-show>
            <a-entity
                class="clickable"
                position="0.5 0.5 0.5"scale="4 4 4" visible="false"
                text="font-size:400; color: pink; align:center; 
                value: This is The Gate Of Sun!
                Also known as the Gateway of the Sun,
                is a monolith carved in the form of an arch or gateway at the site of Tiahuanaco by the Tiwanaku culture,
                an Andean civilization of Bolivia that thrived around Lake Titicaca
                in the Andes of western South America around 500-950 CE.;">        
            </a-entity>

        </a-entity> 

        <a-camera
            rotation-reader
            gps-camera="simulateLatitude: -16.554369; simulateLongitude: -68.673940; minDistance:1; maxDistance: 700;">
		</a-camera> 
 
        <a-entity id="cursor">
            <a-entity cursor="rayOrigin: mouse"></a-entity>
        </a-entity>
        
	</a-scene>
</body> 


